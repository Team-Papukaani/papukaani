{% extends 'base.html' %}

{% load staticfiles %}

{% block header %}
    <link rel="stylesheet" href="{% static 'papukaani/css/upload.css' %}"/>
    <link rel="stylesheet" href="{% static 'papukaani/libraries/leaflet/leaflet.css' %}"/>
    <link rel="stylesheet" href="{% static 'papukaani/libraries/leaflet/markercluster/MarkerCluster.css' %}"/>
    <link rel="stylesheet" href="{% static 'papukaani/libraries/leaflet/markercluster/MarkerCluster.Default.css' %}"/>
{% endblock %]

{% block content %}
    {% include "papukaaniApp/navigation.html" %}

    <h2>Lintu: {{ creature.name }}</h2>

    <div id="map" class="largeMap"></div>

    <p>
        iFrame URL:
        <code id="iframeUrl">
            &lt;iframe width="400px" height="300px" src="{{ server_url }}{% url 'public' creature_id %}"&gt;&lt;/iframe&gt;
        </code>
    </p>

    {% include "papukaaniApp/include_scripts.html" %}

    <script src="{% static 'papukaani/libraries/leaflet/leaflet.js' %}"></script>
    <script src="{% static 'papukaani/libraries/leaflet/markercluster/leaflet.markercluster.js' %}"></script>
    <script src="{% static 'papukaani/js/map.js' %}"></script>
    <script src="{% static 'papukaani/js/creature.js' %}"></script>
    <script src="{% static 'papukaani/libraries/leaflet/polylinedecorator/leaflet.polylineDecorator.js' %}"></script>
    <script>
        {% autoescape off %}
            var mapPoints = {{points}};
            creatureMapInit(mapPoints);
        {% endautoescape %}
    </script>
{% endblock %}
